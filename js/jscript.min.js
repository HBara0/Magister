$(function(){if(jQuery.support.leadingWhitespace==false){$("head").append('<link rel="stylesheet" href="'+rootdir+'css/jqueryuitheme/jquery-ui-current.custom.min.css" type="text/css" />');$("body").append("<div id='browserversionerror' title='Browser version is too old'>Please upgrade your browser to a newer version.</div>");$("#browserversionerror").dialog({bgiframe:true,closeOnEscape:false,modal:true,width:460,maxWidth:460,minHeight:50,zIndex:1,draggable:false})}$("input:checkbox[id$='_checkall']").click(function(){var k=$(this).attr("id").split("_");$('input:checkbox[id^="'+k[0]+'"]:visible').not(this).prop("checked",this.checked)});$('tr[class*="trowtools"]').hover(function(){$(this).toggleClass("altrow2").children('td [id$="_tools"]').find("div").toggle()});$("#login_Button").live("click",h);$("#login_Form input").bind("keypress",function(k){if(k.keyCode==13){h()}});$("#currentmodule_name").hover(function(){$(this).toggleClass("currentmodule_name_hover")});$("#currentmodule_name").click(function(){$(".moduleslist_container").fadeToggle("fast")});$("#mainmenu > li").hover(function(){$(this).not(":has(ul)").addClass("mainmenuitem_hover");if($(this).find("div").css("display")=="none"){$(this).addClass("mainmenuitem_hover")}else{if($(this).find("div").css("display")!="none"){$(this).find("div > ul > li").hover(function(){$(this).toggleClass("submenuitem_hover")})}}},function(){$(this).removeClass("mainmenuitem_hover")});$("#mainmenu > li[class='expandable']").find("span:first").click(function(){$(this).parent().removeClass("mainmenuitem_hover");$("#"+$(this).attr("id")+"_children_container").slideToggle()});$("#mainmenu > li[class!='expandable']").not(":has(div)").find("span").click(function(){window.location="index.php?module="+$(this).attr("id")});$("#mainmenu > li > div > ul > li").find("span").click(function(){window.location="index.php?module="+$(this).attr("id")});if($(window).height()<765){$("#sidedesignImage").height($(window).height())}function g(k){k.find(".txteditadv,.inlinetxteditadv,.basictxteditadv").each(function(){var m=$(this).attr("id");try{if(CKEDITOR.instances[m]){CKEDITOR.instances[m].destroy()}}catch(l){alert(l)}})}f();function f(){if($(".inlinetxteditadv,.txteditadv,.basictxteditadv,.htmltextedit").length>0){$(".inlinetxteditadv,.txteditadv,.basictxteditadv,.htmltextedit").each(function(){var l=$(this).attr("id");try{if(CKEDITOR.instances[l]){CKEDITOR.instances[l].destroy()}if($(this).hasClass("inlinetxteditadv")){CKEDITOR.inline(l);CKEDITOR.instances[l].config.removePlugins="horizontalrule,pagebreak,table,tabletools,colorbutton,find,flash,font,forms,iframe,image,newpage,removeformat,smiley,specialchar,stylescombo,templates"}else{CKEDITOR.replace(l);if($(this).hasClass("basictxteditadv")){CKEDITOR.instances[l].config.removePlugins="horizontalrule,pagebreak,table,tabletools,colorbutton,find,flash,font,forms,iframe,image,newpage,removeformat,smiley,specialchar,stylescombo,templates"}else{if($(this).hasClass("htmltextedit")){CKEDITOR.instances[l].config.removePlugins="horizontalrule,pagebreak,table,tabletools,colorbutton,find,flash,font,forms,iframe,image,newpage,removeformat,smiley,specialchar,stylescombo,templates";CKEDITOR.instances[l].config.startupMode="source"}}}}catch(k){alert(k)}})}}if($(".texteditormin, .texteditor").length>0){$("head").append('<script src="'+rootdir+'js/redactor.min.js" type="text/javascript"><\/script>');$("head").append('<link rel="stylesheet" href="'+rootdir+'css/redactor.css" type="text/css" />');if($(".texteditor").length>0){$(".texteditor").redactor({buttons:["html","|","formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","table","|","alignment","|","horizontalrule"]})}if($(".texteditormin").length>0){$(".texteditormin").redactor({air:true,airButtons:["bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","alignleft","aligncenter","alignright","justify"],allowedTags:["br","p","b","i","del","strike","blockquote","cite","small","ul","ol","li","dl","dt","dd","sup","sub","pre","strong","em"]})}}if($(".tablefilters_row_toggle").length>0){$(window).on("keydown",function(k){if((k.which==102||k.which==70)&&k.ctrlKey){k.preventDefault();$("#tablefilters, .tablefilters_row").toggle();$("html, body").animate({scrollTop:0},"fast");$("#tablefilters").find("input:first").focus();return false}})}$("input[id^='pickDate']").each(function(){if(/^pickDate_/.test($(this).attr("id"))&&/_to$/.test($(this).attr("id"))){var l=$(this).attr("id").split("_");var k="";if(l.length>2){k=l[0]+"_"+l[1]+"_from"}else{k=l[0]+"_from"}$(this).datepicker({altField:"#alt"+$(this).attr("id"),altFormat:"dd-mm-yy",dateFormat:"MM dd, yy",showWeek:true,firstDay:1,changeMonth:true,changeYear:true,showAnim:"slideDown",onSelect:function(m){$("#"+$(this).attr("id")+"").trigger("change");$("#"+k+"").datepicker("option","maxDate",m)}});$("#ui-datepicker-div").css("z-index",$(this).parents(".ui-dialog").css("z-index")+1)}else{if(/^pickDate_/.test($(this).attr("id"))&&/_from$/.test($(this).attr("id"))){var l=$(this).attr("id").split("_");var k="";if(l.length>2){k=l[0]+"_"+l[1]+"_to"}else{k=l[0]+"_to"}$(this).datepicker({altField:"#alt"+$(this).attr("id"),altFormat:"dd-mm-yy",dateFormat:"MM dd, yy",showWeek:true,firstDay:1,changeMonth:true,changeYear:true,showAnim:"slideDown",onSelect:function(m){$("#"+$(this).attr("id")+"").trigger("change");$("#"+k+"").datepicker("option","minDate",m)}});$("#ui-datepicker-div").css("z-index",$(this).parents(".ui-dialog").css("z-index")+1)}else{b(this)}}});function b(k){$(k).datepicker({altField:"#alt"+$(k).attr("id"),altFormat:"dd-mm-yy",dateFormat:"MM dd, yy",showWeek:true,firstDay:1,changeMonth:true,changeYear:true,showAnim:"slideDown"});$("#ui-datepicker-div").css("z-index",$(k).parents(".ui-dialog").css("z-index")+1)}$("input[class*='inlinefilterfield']").live("keyup",function(){var k=$(this).closest("table");setTimeout(function(){k.children("tbody").find("tr").each(function(){var l="show";$(this).show();$(this).find("td").each(function(){var n=k.children("thead").find("th:nth-child("+($(this).index()+1)+') > input[class*="inlinefilterfield"]');if(n.length==0){return}var o=$(this).text().toLowerCase();var m=n.val().toLowerCase();if(m.length==0){return}if(o.indexOf(m)==-1){l="hide";return false}});if(l=="hide"){$(this).hide()}})},300)});$("input[id^='pickDate']").live("click",function(){if(!$(this).hasClass("hasDatepicker")){b(this);$(this).focus()}});var a={};$("input[id$='_autocomplete']").live("keyup",function(){if(sharedFunctions.checkSession()==false){return}var m=$(this).attr("id").split("_");var k=$("input[id='restrictcountry']").val();var l="#"+$(this).attr("id").replace("_autocomplete","_id");if($(this).val().length==0){$(l).val("");$(l+"_output").val("")}$(this).autocomplete({source:function(s,q){var p=s.term;if(m[m.length-2]=="cache"){if(p in a){q(a[p]);return}}var n="";var v="";var u=1;if(m[1]!="noexception"){var r="";if(m[1]=="sectionexception"){r="[id*='"+m[2]+"']"}$("input[id^='"+m[0]+"']"+r+"[id$='_id']").each(function(){if($(this).val().length>0){n+=v+$(this).val();if(++u!=1){v=",";console.log(n)}}})}filtersQuery="";var o=new Array("rid","spid","cid","spid[]","coid","countryid","city","hasMOM");for(var t=0;t<o.length;t++){if($("input[name='"+o[t]+"']").length>0){if($("input[name='"+o[t]+"']").val()!=""){filtersQuery+="&"+o[t]+"="+$("input[name='"+o[t]+"']").val()}}}if(filtersQuery.length>0){filtersQuery+="&filter=1"}$.getJSON(rootdir+"search.php?type=quick&returnType=json&for="+m[0]+"&exclude="+n+filtersQuery,{value:p},function(x,w,y){if(m[m.length-2]=="cache"){a[p]=x}q(x)})},minLength:2,select:function(n,o){$(l).val(o.item.id);if($(l+"_output").length>0){$(l+"_output").val(o.item.id);$(l).trigger("change");$(l+"_output").trigger("change")}}}).data("uiAutocomplete")._renderItem=function(n,o){if(typeof o.desc!="undefined"){return $("<li>").append("<a>"+o.value+"<br><small>"+o.desc+"</small></a>").appendTo(n)}return $("<li>").append("<a>"+o.value+"</a>").appendTo(n)}});$("input[id$='_QSearch']").live("keyup",c);function c(){if(sharedFunctions.checkSession()==false){return}var n=$(this).val();var k=$(this).attr("id").split("_");var t=$(this);if(k.length>=5){var r="#searchQuickResults";for(var p=0;p<(k.length-1);p++){r+="_"+k[p]}}else{var r="#searchQuickResults_"+k[0]+"_"+k[k.length-2]}if($(r).length<=0){r="#searchQuickResults_"+k[k.length-2]}if($("#"+k[0]+"_"+k[k.length-3]+"_"+k[k.length-2]+"_id").length>0){var s="#"+k[0]+"_"+k[k.length-3]+"_"+k[k.length-2]+"_id"}else{var s="#"+k[0]+"_"+k[k.length-2]+"_id"}var l="";var u="";var q=1;if(k[1]!="noexception"){var o="";if(k[1]=="sectionexception"){o="[id*='"+k[2]+"']"}$("input[id^='"+k[0]+"']"+o+"[id$='_id']").each(function(){if($(this).val().length>0){l+=u+$(this).val();if(++q!=1){u=","}}})}filtersQuery="";var m=new Array("rid","spid","cid","spid[]");for(var p=0;p<m.length;p++){if($("input[name='"+m[p]+"']").length>0){if($("input[name='"+m[p]+"']").val()!=""){filtersQuery+="&"+m[p]+"="+$("input[name='"+m[p]+"']").val()}}}if(filtersQuery.length>0){filtersQuery+="&filter=1"}if(n.length==0){$(r).hide();$(s).val("");$(s+"_output").val("")}else{$.post(rootdir+"search.php?type=quick&for="+k[0]+"&exclude="+l+filtersQuery,{value:""+n+""},function(v){if(v.length>0){$(r).html(v);$(r).slideDown();$("#searchResultsList > li").click(function(){t.val($(this).text());$(s).val($(this).attr("id"));$(s+"_output").val($(this).attr("id")).trigger("change");$(r).slideUp()});$(document).not("input[id='"+k[0]+"_"+k[1]+"_QSearch']").click(function(){$(r).slideUp().empty()})}})}n=""}$("input.ajaxcheckbox").live("change",function(){if(sharedFunctions.checkSession()==false){return}var k=$(this).attr("id").split("_");if($(this).is(":checked")==false){$(this).val("0")}sharedFunctions.requestAjax("post","index.php?module="+k[k.length-2],"action="+k[0]+"&value="+$(this).val()+"&id="+k[1],$(this).attr("id")+"_Result",$(this).attr("id")+"_Result")});$(document).on("click","input[type='submit'][id$='_Button']",function(){var m=$(this).attr("id").split("_");var l="";for(var k=0;k<m.length-1;k++){l+=m[k]+"_"}$("form[id='"+l+"Form']:not([action]),form[id='"+l+"Form'][action='#']").submit(function(n){n.preventDefault()})});$(document).on("click","input[id^='perform_'][id$='_Button'],input[id^='add_'][id$='_Button'],input[id^='change_'][id$='_Button']",function(){if(sharedFunctions.checkSession()==false){return}for(instance in CKEDITOR.instances){CKEDITOR.instances[instance].updateElement()}var p=$(this).attr("id").split("_");var n="";for(var m=0;m<p.length-1;m++){n+=p[m]+"_"}var o=$("form[id='"+n+"Form']").serialize();var l=p[p.length-2].split("/");var k="index.php?module="+p[p.length-2];if(!o.match(/action=[A-Za-z0-9]+/)){k+="&action=do_"+p[0]+"_"+l[1]}if(l[1]=="marketintelligencereport"){$("table #filter_options").hide()}sharedFunctions.requestAjax("post",k,o,n+"Results",n+"Results")});$("a[id^='showmore_'][href^='#']").live("click",function(){var k=$(this).attr("id").split("_");$("#"+k[1]+"_"+k[2]).toggle()});$("img[id^='addmore_']").live("click",function(){sharedFunctions.addmoreRows($(this))});$("input[id='email'],input[accept='email']").live("keyup",e);function e(){var n=$(this).closest("form").attr("id");var m=n.substring(0,n.length-5);var l=$("form[id='"+n+"']");var k=$(this).attr("id");if($(this).val()!=""){if(validateEmail($(this).val())){$("input[id='"+m+"_Button']").removeAttr("disabled");$("#"+k+"_Validation").html("<img src='"+imagespath+"valid.gif' />")}else{$("input[id='"+m+"_Button']").attr("disabled","true");$("#"+k+"_Validation").html("<img src='"+imagespath+"invalid.gif' />")}}else{$("input[id='"+m+"_Button']").removeAttr("disabled");$("#"+k+"_Validation").html("")}}$("input[type='button'][id$='_swap']").click(function(){var k=$(this).attr("id").split("_");if($("#"+k[0]+"_last").val().length>0){$("#"+k[0]).val($("#"+k[0]+"_last").val())}});$("input[accept='numeric']").live("keydown",function(k){if(k.keyCode>31&&(k.keyCode<48||(k.keyCode>57&&(k.keyCode<96||k.keyCode>105)&&k.keyCode!=190&&k.keyCode!=110&&k.keyCode!=16&&k.keyCode!=17&&k.keyCode!=59))){k.preventDefault();return false}return true});$("a[id='resetpassword']").live("click",function(){$("#logincontent").hide();$("#resetpasswordcontent").show()});$("#resetpassword_Button").click(function(){sharedFunctions.requestAjax("post","users.php?action=reset_password","email="+$("input[id='email']").val(),"resetpassword_Results","resetpassword_Results")});$("#changepassword_Button").click(function(){sharedFunctions.requestAjax("post","users.php?action=do_changepassword",$("form[id='changepassword_Form']").serialize(),"changepassword_Results","changepassword_Results")});$("#modifyprofile_Button").click(function(){var k=$("form[id='modifyprofile_Form']").serialize();sharedFunctions.requestAjax("post","users.php?action=do_modifyprofile",k,"modifyprofile_Results","modifyprofile_Results")});$("input[id='getReports']").click(function(){if(sharedFunctions.checkSession()==false){return}$.post("index.php?module=reporting/createreports&action=get_reports",{quarter:$("#quarter").val(),year:$("#year").val()},function(k){$("select[id='reports']").empty();$("select[id='reports']").html(k)})});function j(){$("head").append('<link rel="stylesheet" href="'+rootdir+'css/jqueryuitheme/jquery-ui-current.custom.min.css" type="text/css" />');d("","popup_loginbox","users.php")}function h(){$.post(rootdir+"users.php?action=do_login",{username:$("#username").val(),password:$("#password").val(),token:$("#logintoken").val()},function(l){if($("status",l).text()=="true"){var k="green_text"}else{var k="red_text"}$("#login_Results").html("<span class='"+k+"'>"+$("message",l).text()+"</span>").show();if($("#noredirect").val()!="1"){if($("status",l).text()=="true"){goToURL($("#referer").val())}}},"xml")}$("a[id$='_loadpopupbyid'],a[id^='mergeanddelete_'][id$='_icon'],a[id^='revokeleave_'][id$='_icon'],a[id^='approveleave_'][id$='_icon']").live("click",function(){var k=$(this).attr("id").split("_");if(typeof $(this).attr("data-template")!="undefined"){k[0]=$(this).attr("data-template")}if(typeof $(this).attr("data-id")!="undefined"){k[1]=$(this).attr("data-id")}if(typeof $(this).attr("data-module")!="undefined"){k[2]=$(this).attr("data-module")}d(k[2],k[0],k[1],$(this))});$(".showpopup,input[id^='showpopup_']").on("click",function(){var k=$(this).attr("id").split("_");$("#popup_"+k[1]).dialog("open");$(".ui-dialog, #popup_"+k[1]).css("overflow","visible")});if($("div[id^='popup_']").length>0){$("div[id^='popup_']").dialog({autoOpen:false,bgiframe:true,closeOnEscape:true,modal:true,width:600,minWidth:600,maxWidth:800,close:function(){$(this).find("form").each(function(){this.reset()});$(this).find("span[id$='_Validation']").empty();$(this).find("span[id$='_Results']").empty()}})}if($("div[id^='tabs_']").length>0){$("div[id^='tabs_']").tabs()}$("a[id^='addnew_']").live("click",function(){var k=$(this).attr("id").split("_");d(k[1],k[0]+"_"+k[2])});$("input[title],a[title],div[title],span[title]").qtip({style:{classes:"ui-tooltip-green ui-tooltip-shadow"},show:{event:"focus mouseenter",solo:true},hide:"unfocus mouseleave",position:{viewport:$(window)}});function d(p,q,r,o){if(o===undefined){o=""}if(r===undefined){r=""}if(r.length>1){r=r.split("_");var k="";var m=""}else{m=r}for(i=0;i<r.length;i++){if(r[i].length>1){m=m+k+r[i];k="_"}}r=m;if(r!="users.php"){if(sharedFunctions.checkSession()==false){return}}if($("div[id^='popup_']").length>0){}var n="index.php";if(p==""&&r!=""){n=rootdir+r}var l="";if(!jQuery.isEmptyObject(o)){if(typeof o.attr("data-params")!="undefined"){l="&params="+o.attr("data-params")}}$.ajax({type:"post",url:n+"?module="+p+"&action=get_"+q,data:"id="+r+l,beforeSend:function(){$("body").append("<div id='modal-loading'><span  style='display:block; width:100px; height: 100%; margin: 0 auto;'><img  src='./images/loader.gif'/></span></div>");$("#modal-loading").dialog({height:150,modal:true,closeOnEscape:false,title:"Loading...",resizable:false,minHeight:0})},complete:function(){$("#modal-loading").dialog("close").remove()},success:function(s){$(".contentContainer").append(s);f();$("div[id^='popup_']").dialog({bgiframe:true,closeOnEscape:true,modal:true,width:600,minWidth:600,maxWidth:800,zIndex:1000,close:function(){g($(this));$(this).find("form").each(function(){this.reset()});$(this).find("span[id$='_Validation']").empty();$(this).find("span[id$='_Results']").empty();$(this).remove()}});$(".ui-dialog,div[id^='popup_']").css("overflow","visible");$("input[id='email']").change(e);$("input[id='hide_popupBox']").click(function(){$("#popupBox").hide("fast")})}})}$("a[href='#'][id^='approve_']").click(function(){if(sharedFunctions.checkSession()==false){return}var k=$(this).attr("id").split("_");var l="&action=do_"+k[0]+"&attribute="+k[2]+"&newvalue="+k[3]+"&id="+k[4];sharedFunctions.requestAjax("post","index.php?module="+k[1],l,$(this).attr("id"),$(this).attr("id"))});$("input[class='inlineCheck']").blur(function(){if($(this).val().length!=0){var m=$(this).parents("form").attr("id").split("_");var k=$(this).attr("id")+"_inlineCheckResult";var l="&action=inlineCheck&attr="+$(this).attr("name")+"&value="+$(this).val();sharedFunctions.requestAjax("post","index.php?module="+m[1],l,k,k)}});$("img[id^='ajaxaddmore_']").live("click",function(){if(sharedFunctions.checkSession()==false){return}var p=$(this).attr("id").split("_");var l=0;var n="";var k="";for(i=2;i<p.length;i++){n=n+k+p[i];k="_"}if($("#numrows_"+n).length!=0){var l=parseInt($("#numrows_"+n).val())}var m=rootdir+"index.php?module="+p[1]+"&action=ajaxaddmore_"+p[2];if($("#moduletype_"+n).length!=0){var o=$("#moduletype_"+n).val();var m=rootdir+o+"/index.php?module="+p[1]+"&action=ajaxaddmore_"+p[2]}$.ajax({type:"post",url:m,data:"value="+l+"&id="+p[p.length-1]+"&"+$(this).parent().find($("input[id^=ajaxaddmoredata_]")).serialize(),beforeSend:function(){$("body").append("<div id='modal-loading'></div>");$("#modal-loading").dialog({height:0,modal:true,closeOnEscape:false,title:"Loading...",resizable:false,minHeight:0})},complete:function(){$("#modal-loading").dialog("close").remove()},success:function(q){$("#"+n+"_tbody").append(q);if($("#numrows_"+n).length!=0){$("#numrows_"+n).val(l+1)}if($("#"+n+"_tbody > tr:last").find("input").filter(":visible:first").length){$("html, body").animate({scrollTop:$("#"+n+"_tbody > tr:last").find("input").filter(":visible:first").offset().top},1000)}$("#"+n+"_tbody > tr:last").effect("highlight",{color:"#D6EAAC"},1500).find("input").first().focus()}})});window.sharedFunctions=function(){function k(t,o,v,r,u,s,q){if(s==1){s="html"}if(typeof s=="undefined"){s="xml"}var p="loading-bar.gif";$.ajax({type:t,url:o,data:v,beforeSend:function(){$("div[id='"+r+"'],span[id='"+r+"']").html("<img style='padding: 5px;' src='"+imagespath+"/"+p+"'' alt='"+loading_text+"' border='0' />")},complete:function(){if(r!=u){$("#"+r).empty()}},success:function(x){if(s=="xml"){if($(x).find("status").text()=="true"){var w="green_text"}else{if($(x).find("status").text()=="false"){var w="red_text"}}if($(x).find("message").text().length>0){$("div[id='"+u+"'],a[id='"+u+"'],span[id='"+u+"']").html("<span class='"+w+"'><img src='"+imagespath+"/"+$(x).find("status").text()+".gif' border='0' alt=''/>&nbsp;"+$(x).find("message").text()+"</span>")}else{$("div[id='"+u+"'],a[id='"+u+"'],span[id='"+u+"']").html(x).dialog()}}else{$("#"+u).html($.trim(x));if(q!="undefined"){if(q=="animate"){$("#"+u).slideDown("slow")}}}}})}function n(){if($.cookie(cookie_prefix+"uid")==null||$.cookie(cookie_prefix+"uid")==0){j();return false}}function m(p){if(typeof p=="object"){var s=p.attr("id").split("_")}else{var s=p.split("_")}if($("#"+s[1]+"_"+s[2]+"_tbody").length>0){s[1]=s[1]+"_"+s[2]}var q=$("#"+s[1]+"_tbody > tr:last").attr("id");var o=parseInt(q)+1;$("#"+s[1]+"_tbody > tr:last").clone(true).removeAttr("id").attr("id",o).appendTo("#"+s[1]+"_tbody");var r=["id","name"];$("#"+s[1]+"_tbody > div").scrollTop();$.each(r,function(t,u){$("#"+s[1]+"_tbody > tr[id='"+o+"']").find("tr["+u+"],input["+u+"],select["+u+"],div["+u+"],span["+u+"],textarea["+u+"],img["+u+"],tbody["+u+"]").each(function(){if($(this).attr(u).length==0){return true}if($(this).attr(u).search(/([A-Za-z_0-9]+)_[\d]+_([A-Za-z_]+)/gi)!=-1){$(this).attr(u,$(this).attr(u).replace(/([A-Za-z_0-9]+)_[\d]+_([A-Za-z_]+)/gi,"$1_"+o+"_$2"))}else{if($(this).attr(u).search(/([A-Za-z_0-9]+)_id[\d]+_([A-Za-z_]+)/gi)!=-1){$(this).attr(u,$(this).attr(u).replace(/([A-Za-z_0-9]+)_id[\d]+_([a-z_]+)/gi,"$1_id"+o+"_$2"))}else{if($(this).attr(u).search(/([A-Za-z_0-9]+)_[\d]/gi)!=-1){$(this).attr(u,$(this).attr(u).replace(/([A-Za-z_0-9]+)_[\d]+/gi,"$1_"+o))}else{if($(this).attr(u).search(/([A-Za-z_0-9]+)_id[\d]/gi)!=-1){$(this).attr(u,$(this).attr(u).replace(/([A-Za-z_0-9]+)_id[\d]+/gi,"$1_id"+o))}else{$(this).attr(u,$(this).attr(u).replace(q,o.toString()))}}}}if($(this).attr("type")!="checkbox"&&$(this).attr("type")!="radio"){$(this).val("")}if($(this).attr("type")=="checkbox"){$(this).removeAttr("checked")}if($(this).is("span")){$(this).html("")}if($(this).hasClass("hasDatepicker")){$(this).removeClass("hasDatepicker")}})});if(s[1]=="keycustomers"){$("#"+s[1]+"_tbody > tr:last").find("td:first").html($("#"+s[1]+"_tbody tr:last").find("td:first").html().replace(q,o.toString()))}$("input[id='email']").change(e);if($("input[id='"+s[1]+"_numrows']").length>0){$("input[id='"+s[1]+"_numrows']").val(o)}else{$("#numrows").val(o)}}function l(o,p,q){d(o,p,q)}return{requestAjax:k,checkSession:n,addmoreRows:m,sharedPopUp:l}}();$("#dimensionfrom, #dimensionto").sortable({connectWith:".sortable",revert:true,cursor:"wait",tolerance:"intersect",placeholder:"ui-state-highlight",over:function(){$(".sortable-placeholder").hide()},dropOnEmpty:true,start:function(){$("#dimensionto li").animate({opacity:2.35,backgroundColor:"#cccccc",})},stop:function(k,l){$("#dimensionto li").css("background","#92d050");$("#dimensions").val($("#dimensionto").sortable("toArray"))}});$("[data-reqparent^='children-']").live("change",function(){var k=$(this).attr("data-reqparent").split("-");if(k.length>1){if($(this).attr("type")=="checkbox"){if($(this).is(":checked")){for(i=1;i<k.length;i++){$("#"+k[i]+"").attr("required",true)}}else{for(i=1;i<k.length;i++){$("#"+k[i]+"").attr("required",false)}}}else{if($(this).val().length<1){for(i=1;i<k.length;i++){$("#"+k[i]+"").attr("required",false)}}else{for(i=1;i<k.length;i++){$("#"+k[i]+"").attr("required",true)}}}}});$("a[id='filterby']").click(function(){$("table #filter_options").toggle()})});function validateEmail(a){return a.match(/^[a-zA-Z0-9&*+\-_.{}~^\?=\/]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9.-]+$/)}function IsNumeric(a,b){if(isNaN(parseFloat(a.value))){alert("The number you have entered is not valid.");a.value="";a.focus();return false}if(b!=""){setTimeout(b,0)}return true}function goToURL(a){if(a!=""){if(!window.location){document.location=a}else{window.location=a}}};